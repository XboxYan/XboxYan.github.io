<html>
  <head>
    <meta charset="utf-8" />
<meta name="description" content="" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>CSS3 中关于 *-of-type 和 *-child的差异性及适用场景 | XboxYan</title>
<link rel="shortcut icon" href="https://xboxyan.codelabo.cn/favicon.ico?v=1558443456100">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://xboxyan.codelabo.cn/styles/main.css">

<script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
<script src="https://cdn.bootcss.com/moment.js/2.23.0/moment.min.js"></script>


  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://xboxyan.codelabo.cn">
  <img class="avatar" src="https://xboxyan.codelabo.cn/images/avatar.png?v=1558443456100" alt="">
  </a>
  <h1 class="site-title">
    XboxYan
  </h1>
  <p class="site-description">
    世界美好 你也是。
  </p>
  <div class="menu-container">
    
      
        <a href="/" class="menu">
          首页
        </a>
      
    
      
        <a href="/archives" class="menu">
          归档
        </a>
      
    
      
        <a href="/tags" class="menu">
          标签
        </a>
      
    
      
        <a href="/post/about" class="menu">
          关于
        </a>
      
    
  </div>
  <div class="social-container">
    
      
        <a href="https://github.com/XboxYan" target="_blank">
          <i class="fab fa-github"></i>
        </a>
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

      
        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              CSS3 中关于 *-of-type 和 *-child的差异性及适用场景
            </h2>
            <div class="post-info">
              <time class="post-time">
                · 2019-05-16 ·
              </time>
              
                <a href="https://xboxyan.codelabo.cn/tag/MmBXGBKG9" class="post-tags">
                  # css3
                </a>
              
            </div>
            
              <div class="post-feature-image" style="background-image: url('https://xboxyan.codelabo.cn/post-images/css3-of-type-child.jpg')">
              </div>
            
            <div class="post-content">
              <p>CSS3 中有很多表示元素序号的选择器，有以下几种</p>
<p><code>:first-child</code>、<code>:first-of-type</code>、<code>:last-of-type</code>、<code>:only-of-type</code>、<code>:only-child</code>、<code>:nth-child(n)</code>、<code>:nth-last-child(n)</code>、<code>:nth-of-type(n)</code>、<code>:nth-last-of-type(n)</code>、<code>:last-child</code></p>
<!-- more -->
<p>初学者可能会比较容易混淆，这里我可以分一下类</p>
<table>
<thead>
<tr>
<th>*<strong>-of-type</strong></th>
<th>*<strong>-child</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>:first-of-type</code></td>
<td><code>:first-child</code></td>
</tr>
<tr>
<td><code>:last-of-type</code></td>
<td><code>:last-child</code></td>
</tr>
<tr>
<td><code>:nth-of-type(n)</code></td>
<td><code>:nth-child(n)</code></td>
</tr>
<tr>
<td><code>:nth-last-of-type(n)</code></td>
<td><code>:nth-last-child(n)</code></td>
</tr>
<tr>
<td><code>:only-of-type</code></td>
<td><code>:only-child</code></td>
</tr>
</tbody>
</table>
<p>可以看出完全是一一对应，相信CSS开发者都对这些选择器的功能有个大致印象，比如<code>first-*</code>表示第一个，<code>nth-*</code>表示第几个，<code>nth-last-*</code>表示倒数第几个...</p>
<h2 id="-of-type-和-child">*-of-type 和 *-child</h2>
<p>那么，<em><strong>-of-type</strong>和***-child</em>* 到底有什么区别呢？</p>
<p>从字面上来看，其实就是<code>type</code>和<code>child</code>的区别，也就是说</p>
<p><strong><code>type</code>表示类型，一类元素，比如都是<code>p</code>元素或者<code>div</code>元素</strong></p>
<p><strong><code>child</code>表示子元素，没有什么限制</strong></p>
<p>这样描述可能不直观，下面列举一个实例来说明</p>
<h2 id="first-of-type-和-first-child">:first-of-type 和 :first-child</h2>
<pre><code class="language-html">&lt;div&gt;
	&lt;h1 class=&quot;h1&quot;&gt;标题1&lt;/h1&gt;
	&lt;h1  class=&quot;h2&quot;&gt;标题2&lt;/h1&gt;
	&lt;p class=&quot;p1&quot;&gt;段落1&lt;/p&gt;
	&lt;p class=&quot;p2&quot;&gt;段落2&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>这里写了一个交互实例，可以随时比较各个选择器的结果</p>
<p class="codepen" data-height="622" data-theme-id="34022" data-default-tab="html,result" data-user="xboxyan" data-slug-hash="dEvxPr" style="height: 622px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="css3 选择器:first-of-type 和:first-child">
  <span>See the Pen <a href="https://codepen.io/xboxyan/pen/dEvxPr/">
  css3 选择器:first-of-type 和:first-child</a> by XboxYan (<a href="https://codepen.io/xboxyan">@xboxyan</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>下面是各种选择的结果</p>
<ol>
<li>
<p><code>div :first-of-type</code>可以选中 <em>标题1</em> 和 <em>段落1</em></p>
</li>
<li>
<p><code>div h1:first-of-type</code>可以选中 <em>标题1</em></p>
</li>
<li>
<p><code>div p:first-of-type</code>可以选中 <em>段落1</em></p>
</li>
<li>
<p><code>div .h1:first-of-type</code> 可以选中 <em>标题1</em></p>
</li>
<li>
<p><code>div .h2:first-of-type</code> 未匹配</p>
</li>
<li>
<p><code>div :first-child</code> 可以选中 <em>标题1</em></p>
</li>
<li>
<p><code>div p:first-child</code> 未匹配</p>
</li>
<li>
<p><code>div h1:first-child</code>  `可以选中 <em>标题1</em></p>
</li>
<li>
<p><code>div .h1:first-child</code>  `可以选中 <em>标题1</em></p>
</li>
<li>
<p><code>div .h2:first-child</code>  未匹配</p>
</li>
</ol>
<p>这里有个容易出错的地方，比如<code>div .h2:first-of-type</code>，很多人以为会选择到第一个class为<code>.h2</code>的元素，其实不是的，这里可以这么来理解：</p>
<p><strong>首先，<code>div .h2:first-of-type</code>会查找<code>.h2</code>类名所对应的元素，这里是<code>h1</code>元素，所以<code>:first-of-type</code>会匹配第一个<code>h1</code>元素，也就是说，这里的class类名只是找到对应元素类型的作用。接下来结合起来看，第一个<code>h1</code>的元素的class并不是<code>.h2</code>，所以就无法匹配到。</strong></p>
<p><strong>同样，<code>div p:first-child</code>也是同样的道理，<code>:first-child</code>会首先找第一个元素，然后发现第一个元素并不是<code>p</code>元素，所以也匹配不到</strong></p>
<p>由此可见，我们在用<code>:first-of-type</code>时，其实只需要带上标签名就可以了，比如<code>div p:first-of-type</code>，根本不需要带上类名，如果不加标签名，那么会选择每种类型元素的第一个（示例1）</p>
<p>而用<code>:first-child</code>时，根本不需要带上任何标识，因为始终会匹配到第一个元素，否则加上别的条件就匹配不到了（当然特殊需求除外）。</p>
<p>那么，如果想实现上述第一个<code>.h2</code>该如何实现呢，很可惜，这些方式不能满足，你只能通过其他方式来完成，比如<code>~</code>选择器</p>
<pre><code class="language-html">&lt;div&gt;
	&lt;h1 class=&quot;h1&quot;&gt;标题1&lt;/h1&gt;
	&lt;h1  class=&quot;h2&quot;&gt;标题2&lt;/h1&gt;
	&lt;h1  class=&quot;h2&quot;&gt;标题2&lt;/h1&gt;
	&lt;p class=&quot;p1&quot;&gt;段落1&lt;/p&gt;
	&lt;p class=&quot;p2&quot;&gt;段落2&lt;/p&gt;
&lt;/div&gt;
</code></pre>
<p>这种情况下，如何选择到第一个<code>h1.h2</code>呢?</p>
<hr>
<p>思考一下...</p>
<hr>
<p>直接给答案</p>
<pre><code class="language-css">.h2{ 
  outline:2px solid red;
}
.h2~.h2{
  outline:0;
}
</code></pre>
<p>意思就是先选中所有的<code>.h2</code>，然后排除掉兄弟节点的其他<code>.h2</code></p>
<p class="codepen" data-height="379" data-theme-id="34022" data-default-tab="html,result" data-user="xboxyan" data-slug-hash="GamPQJ" style="height: 379px; box-sizing: border-box; display: flex; align-items: center; justify-content: center; border: 2px solid; margin: 1em 0; padding: 1em;" data-pen-title="css 选择器">
  <span>See the Pen <a href="https://codepen.io/xboxyan/pen/GamPQJ/">
  css 选择器</a> by XboxYan (<a href="https://codepen.io/xboxyan">@xboxyan</a>)
  on <a href="https://codepen.io">CodePen</a>.</span>
</p>
<script async src="https://static.codepen.io/assets/embed/ei.js"></script>
<p>理解上面几种选择器的规则，那么下面几类都是一样的了</p>
<h2 id="last-of-type和last-child">:last-of-type和:last-child</h2>
<p>这与<code>:first-of-type</code> 和 <code>:first-child</code>用法完全一致，表示最后一个，这里不做多讲解</p>
<p>有一点注意的是，<code>:first-child</code>是CSS2的范畴，意味着在IE8也能使用，而<code>last-child</code>是CSS3的规范，在同时都能满足需求时，如果需要更好的兼容性，建议使用<code>:first-child</code>。</p>
<p>一个很常见的场景，比如一个列表，列表的每一项都一条分割线，我们可以使用<code>border</code>来模拟，那么是上边框还是下边框呢，都可以满足需求</p>
<pre><code class="language-css">li{
	***
	border-top:1px solid;
}
li:first-child{
	border-top:0;
}
</code></pre>
<p>显然，使用上边框结合<code>:first-child</code>兼容性更好。</p>
<h2 id="nth-of-typen和nth-childn">:nth-of-type(n)和:nth-child(n)</h2>
<p>这类选择器主要是选择第n个元素，跟元素序号有关，注意这里的起始序号为1（和js略微不同）</p>
<p><code>n</code>可以是数字、关键词或公式。</p>
<p>比如说<code>p:nth-of-type(1)</code>表示每个父级下第一个<code>p</code>元素，等同于<code>p:first-of-type</code></p>
<p>关键词可以选择<code>odd</code>和<code>even</code>，分别表示奇数和偶数，常见场景就是表格</p>
<pre><code class="language-css">tr:nth-child(odd){
	background:#ff0000;
}
tr:nth-child(even){
	background:#0000ff;
}
</code></pre>
<p><code>n</code>还可以使用公式<code>an + b</code>，常见场景是选择周期性的元素</p>
<pre><code class="language-css">p:nth-child(3n+0){
	background:#ff0000;
}
</code></pre>
<h2 id="nth-last-of-typen和nth-last-childn"><code>:nth-last-of-type(n)</code>和<code>:nth-last-child(n)</code></h2>
<p>与<code>:nth-of-type(n)</code>和<code>:nth-child(n)</code>基本一致，只是从后面开始计数</p>
<p>结合<code>:nth-last-child(n)</code>与<code>:first-child</code>可以匹配出列表中不同元素数量的不同样式</p>
<p>比如<code>:nth-last-child(3):first-child</code>表示从后往前数选中第3个子元素，同时也是第一个元素，那么就可以判断改列表中共有3个元素，结合兄弟选择器<code>+</code>和<code>~</code>可以对不同数量的子元素分别指定样式</p>
<pre><code class="language-css">li:only-child {
  height: 100%;
}
/* 2个 */
li:first-child:nth-last-child(2),
li:first-child:nth-last-child(2) + li {
  width: 50%; height: 50%;
}
li:first-child:nth-last-child(2) + li {
  margin-left: auto;
}
/* 3个 */
li:first-child:nth-last-child(3),
li:first-child:nth-last-child(3) ~ li {
  width: 50%; height: 50%;
}
</code></pre>
<p>大家可以看看<a href="https://www.zhangxinxu.com/wordpress/2019/03/nth-last-child-css-layout/">张鑫旭的这篇文章</a>，算是一个比较实用的场景</p>
<h2 id="only-of-type-和-only-child"><code>:only-of-type 和 :only-child</code></h2>
<p>这个是表示当只有一个元素，或者同类型元素只有一个的时候使用</p>
<pre><code class="language-html">&lt;div&gt;
	&lt;h1 class=&quot;h1&quot;&gt;标题1&lt;/h1&gt;
	&lt;h1  class=&quot;h2&quot;&gt;标题2&lt;/h1&gt;
	&lt;h1  class=&quot;h2&quot;&gt;标题2&lt;/h1&gt;
	&lt;p class=&quot;p1&quot;&gt;段落1&lt;/p&gt;
	&lt;span&gt;文本&lt;/span&gt;
&lt;/div&gt;
</code></pre>
<ul>
<li><code>div :only-of-type</code>可以选中 <em>标题2</em> <em>文本</em></li>
<li><code>div p:only-of-type</code>可以选中 <em>标题2</em></li>
<li><code>div :only-child</code> 匹配不到任何元素</li>
</ul>
<h2 id="小节">小节</h2>
<p>其实大家只要注意 **<code>*-of-type</code> 是选择相同类型的元素 、<code>*-child</code>是选择子节点 ** 就好了，</p>
<p>相信未来可能会出现更全面的选择器，比如<code>nth-of-class</code>（根据class来选择），<code>nth-of-*</code> （根据任意选择器来选择），还是期待一下吧~</p>

            </div>
          </article>
        </div>
    
        
          <div class="next-post">
            <div class="next">下一篇</div>
            <a href="https://xboxyan.codelabo.cn/post/XHJZpj9GB">
              <h3 class="post-title">
                css3元素出现动画实例
              </h3>
            </a>
          </div>  
        

        
          
            <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
<script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>

<div id="gitalk-container"></div>

<script>

  var gitalk = new Gitalk({
    clientID: '76f6db0817582f8fcf7e',
    clientSecret: '0bff99f569efc8e061740c67585348de78e81e58',
    repo: 'XboxYan.github.io',
    owner: 'XboxYan',
    admin: ['XboxYan'],
    id: location.pathname,      // Ensure uniqueness and length less than 50
    distractionFreeMode: false  // Facebook-like distraction free mode
  })

  gitalk.render('gitalk-container')

</script>

          

          
        
    
        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a>
</div>

<script>
  hljs.initHighlightingOnLoad()
</script>

      </div>
    </div>
  </body>
</html>
